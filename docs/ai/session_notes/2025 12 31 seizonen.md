Wat een geweldig idee van Felix! Seizoenen maken de wereld levend. In de winter sneeuw, in de herfst oranje blaadjes... dat maakt het rondlopen veel spannender.

En dat "pijltje" is een heel slim idee voor de interface (UI). Zo weet je altijd precies of je een jas aan moet trekken! ğŸ˜‰

Hier is de **update** voor de `WorldPage`. We voegen een **Seizoensklok** toe met een pijltje dat draait, en de hele wereld verandert van kleur als het seizoen verandert.

### 1. De Code met Seizoenen (`src/features/world/WorldPage.jsx`)

Vervang de vorige code (of maak dit bestand aan) met deze nieuwe versie. Ik heb de seizoenen-logica toegevoegd:

```jsx
import { useState, useEffect, useCallback } from 'react';
import { useNavigate } from 'react-router-dom';
import { usePokemonContext } from '../../contexts/PokemonContext';
import './WorldPage.css';

// Tegel types
const TILE_TYPES = {
  GRASS: 0,
  PATH: 1,
  HOUSE: 2,
  CENTER: 3,
  TREE: 4,
};

// De seizoenen
const SEASONS = ['Lente', 'Zomer', 'Herfst', 'Winter'];
const SEASON_ICONS = ['ğŸŒ¸', 'â˜€ï¸', 'ğŸ‚', 'â„ï¸'];

export function WorldPage() {
  const navigate = useNavigate();
  const { addCoins, spendCoins } = usePokemonContext();

  // START: Felix's Seizoenen Systeem
  const [seasonIndex, setSeasonIndex] = useState(1); // Begin in de Zomer (1)

  // Functie om naar het volgende seizoen te gaan
  const nextSeason = () => {
    setSeasonIndex(prev => (prev + 1) % 4);
  };
  // Functie om naar het vorige seizoen te gaan
  const prevSeason = () => {
    setSeasonIndex(prev => (prev === 0 ? 3 : prev - 1));
  };

  // Bepaal de kleuren op basis van het seizoen
  const getSeasonStyles = () => {
    switch (seasonIndex) {
      case 3: // Winter â„ï¸
        return { grass: '#e2e8f0', tree: '#94a3b8', bg: '#f1f5f9' };
      case 2: // Herfst ğŸ‚
        return { grass: '#fef3c7', tree: '#d97706', bg: '#fffbeb' };
      case 0: // Lente ğŸŒ¸
        return { grass: '#bbf7d0', tree: '#f472b6', bg: '#f0fdf4' }; // Roze bomen!
      default: // Zomer â˜€ï¸
        return { grass: '#4ade80', tree: '#166534', bg: '#dcfce7' };
    }
  };

  const seasonStyle = getSeasonStyles();
  // EINDE Seizoenen Systeem

  // De kaart (10x10)
  const [mapGrid, setMapGrid] = useState([
    [1, 1, 1, 0, 0, 4, 4, 0, 0, 3],
    [1, 2, 1, 0, 0, 4, 0, 0, 0, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [4, 4, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 2, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0],
    [1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
  ]);

  const [playerPos, setPlayerPos] = useState({ x: 0, y: 0 });
  const [message, setMessage] = useState(null);
  const [isBuildMode, setIsBuildMode] = useState(false);
  const [selectedBuilding, setSelectedBuilding] = useState(TILE_TYPES.HOUSE);

  // Beweging logica
  const movePlayer = useCallback(
    (dx, dy) => {
      if (isBuildMode) return;

      const newX = playerPos.x + dx;
      const newY = playerPos.y + dy;

      if (newX < 0 || newX >= 10 || newY < 0 || newY >= 10) return;

      const targetTile = mapGrid[newY][newX];
      if (targetTile === TILE_TYPES.TREE || targetTile === TILE_TYPES.HOUSE) return;

      setPlayerPos({ x: newX, y: newY });
      setMessage(null);
      handleTileEvent(targetTile);
    },
    [playerPos, mapGrid, isBuildMode]
  );

  const handleTileEvent = tileType => {
    if (tileType === TILE_TYPES.CENTER) {
      setMessage({ text: 'ğŸ¥ PokÃ©mon genezen!', color: '#3b82f6' });
      return;
    }
    if (tileType === TILE_TYPES.GRASS) {
      // In de winter minder kans op PokÃ©mon, maar misschien Ice-types?
      if (Math.random() < 0.2) {
        setMessage({ text: 'âš”ï¸ Wilde PokÃ©mon!', color: '#ef4444' });
        setTimeout(() => navigate('/single-battle'), 1000);
      }
    }
  };

  // Toetsenbord besturing
  useEffect(() => {
    const handleKeyDown = e => {
      if (e.key === 'ArrowUp') movePlayer(0, -1);
      if (e.key === 'ArrowDown') movePlayer(0, 1);
      if (e.key === 'ArrowLeft') movePlayer(-1, 0);
      if (e.key === 'ArrowRight') movePlayer(1, 0);
    };
    window.addEventListener('keydown', handleKeyDown);
    return () => window.removeEventListener('keydown', handleKeyDown);
  }, [movePlayer]);

  const handleTileClick = (x, y) => {
    if (!isBuildMode) return;
    if (x === playerPos.x && y === playerPos.y) return;
    const newGrid = [...mapGrid];
    newGrid[y][x] = newGrid[y][x] === selectedBuilding ? TILE_TYPES.GRASS : selectedBuilding;
    setMapGrid(newGrid);
  };

  const getTileContent = (type, x, y) => {
    if (x === playerPos.x && y === playerPos.y) return 'ğŸƒ';
    switch (type) {
      case TILE_TYPES.GRASS:
        return seasonIndex === 3 ? 'â„ï¸' : seasonIndex === 2 ? 'ğŸ‚' : 'ğŸŒ¿';
      case TILE_TYPES.PATH:
        return '';
      case TILE_TYPES.HOUSE:
        return 'ğŸ ';
      case TILE_TYPES.CENTER:
        return 'ğŸ¥';
      case TILE_TYPES.TREE:
        return 'ğŸŒ²';
      default:
        return '';
    }
  };

  return (
    <div className="world-page" style={{ backgroundColor: seasonStyle.bg }}>
      {/* DE SEIZOENSWIJZER */}
      <div className="season-hud">
        <button className="arrow-btn" onClick={prevSeason}>
          â¬…ï¸
        </button>
        <div className="season-display">
          <span className="season-icon">{SEASON_ICONS[seasonIndex]}</span>
          <span className="season-name">{SEASONS[seasonIndex]}</span>
        </div>
        <button className="arrow-btn" onClick={nextSeason}>
          â¡ï¸
        </button>
      </div>

      <div className="world-header">
        {message && (
          <div className="event-popup" style={{ backgroundColor: message.color }}>
            {message.text}
          </div>
        )}
      </div>

      <div className="game-container">
        <div
          className="map-grid"
          style={{ backgroundColor: seasonStyle.grass, borderColor: '#475569' }}
        >
          {mapGrid.map((row, y) => (
            <div key={y} className="map-row">
              {row.map((tile, x) => (
                <div
                  key={`${x}-${y}`}
                  className={`tile type-${tile} ${isBuildMode ? 'buildable' : ''}`}
                  onClick={() => handleTileClick(x, y)}
                  // Pas de kleur van bomen en gras dynamisch aan!
                  style={
                    tile === TILE_TYPES.TREE
                      ? { color: seasonStyle.tree }
                      : tile === TILE_TYPES.GRASS
                        ? { color: seasonStyle.tree }
                        : {}
                  }
                >
                  {getTileContent(tile, x, y)}
                </div>
              ))}
            </div>
          ))}
        </div>

        {/* Besturing */}
        <div className="controls-panel">
          <div className="d-pad">
            <button onClick={() => movePlayer(0, -1)}>â¬†ï¸</button>
            <div className="d-pad-mid">
              <button onClick={() => movePlayer(-1, 0)}>â¬…ï¸</button>
              <button onClick={() => movePlayer(1, 0)}>â¡ï¸</button>
            </div>
            <button onClick={() => movePlayer(0, 1)}>â¬‡ï¸</button>
          </div>

          <div className="build-controls">
            <button
              className={`mode-btn ${isBuildMode ? 'active' : ''}`}
              onClick={() => setIsBuildMode(!isBuildMode)}
            >
              {isBuildMode ? 'Klaar met Bouwen' : 'ğŸ”¨ Bouwen'}
            </button>

            {isBuildMode && (
              <div className="build-palette">
                <button onClick={() => setSelectedBuilding(TILE_TYPES.HOUSE)}>ğŸ </button>
                <button onClick={() => setSelectedBuilding(TILE_TYPES.TREE)}>ğŸŒ²</button>
                <button onClick={() => setSelectedBuilding(TILE_TYPES.PATH)}>ğŸŸ«</button>
              </div>
            )}
          </div>
        </div>
      </div>
    </div>
  );
}
```

### 2. De Styling Updates (`src/features/world/WorldPage.css`)

Hier zorgen we dat de seizoenswijzer er cool uitziet. Voeg dit toe aan je CSS:

```css
/* ... (vorige CSS) ... */

/* NIEUW: Seizoenswijzer (HUD) */
.season-hud {
  background: rgba(255, 255, 255, 0.9);
  padding: 0.5rem 1rem;
  border-radius: 2rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  margin-bottom: 1rem;
  border: 4px solid #3b82f6;
  animation: slideDown 0.5s;
}

.season-display {
  display: flex;
  flex-direction: column;
  align-items: center;
  min-width: 80px;
}

.season-icon {
  font-size: 2rem;
  line-height: 1;
}

.season-name {
  font-family: 'Luckiest Guy', cursive; /* Felix z'n coole lettertype */
  font-size: 1rem;
  color: #1e293b;
  text-transform: uppercase;
}

.arrow-btn {
  background: #3b82f6;
  border: none;
  color: white;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s;
  box-shadow: 0 2px 0 #1e40af;
}

.arrow-btn:active {
  transform: translateY(2px);
  box-shadow: none;
}

@keyframes slideDown {
  from {
    transform: translateY(-50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Aanpassing voor bomen die van kleur veranderen */
.tile.type-4 {
  background-color: transparent !important; /* Laat de gras-kleur eronder zien */
  font-size: 2rem; /* Grotere bomen */
}
```

### Wat is er nieuw voor Felix?

1. **De Seizoenswijzer:** Bovenaan het scherm staat nu een balkje met pijltjes (â¬…ï¸ ğŸŒ¸ â¡ï¸). Felix kan op de pijltjes klikken om de tijd van het jaar te veranderen.
2. **Magische Kleuren:**

- **Winter:** Als hij naar Winter klikt, wordt al het gras wit (sneeuw!) en de bomen grijs-wit. De icoontjes op het gras worden sneeuwvlokjes â„ï¸.
- **Herfst:** Alles wordt oranje en geel. De blaadjes vallen! ğŸ‚
- **Lente:** De bomen worden roze (bloesem) en het gras frisgroen.

3. **Bouwen in de sneeuw:** Hij kan nu ook huizen bouwen in een sneeuwlandschap.

Dit systeem is heel makkelijk uit te breiden. Later kunnen we zeggen: "In de winter vind je alleen Ice-type PokÃ©mon!" ğŸ§Š
